{% load inventory_filters %}

<div class="table-responsive">
    <table class="table table-striped table-hover align-middle" width="100%" cellspacing="0">
        <thead class="table-light">
            <tr class="border-bottom border-2">
                <th class="py-3 px-3 fw-semibold">Sana</th>
                <th class="py-3 px-3 fw-semibold">Ta'minotchi</th>
                <th class="py-3 px-3 fw-semibold">Chipta turi</th>
                <th class="py-3 px-3 fw-semibold">Chipta manzili</th>
                <th class="py-3 px-3 fw-semibold">Mavjud/Boshl</th>
                <th class="py-3 px-3 fw-semibold">Narx</th>
                <th class="py-3 px-3 fw-semibold">Jami</th>
                <th class="py-3 px-3 fw-semibold">To'lov</th>
                <th class="py-3 px-3 fw-semibold">Izohlar</th>
            </tr>
        </thead>
        <tbody>
            {% for acq in acquisitions %}
            <tr>
                <td class="py-2 px-3">{{ acq.acquisition_date|date:"d.m.Y" }}</td>
                <td class="py-2 px-3">{{ acq.supplier.name }}</td>
                <td class="py-2 px-3">{{ acq.ticket.get_ticket_type_display }}</td>
                <td class="py-2 px-3">{{ acq.ticket.description|truncatewords:10 }}</td>
                <td class="py-2 px-3">{{ acq|format_quantity_display }}</td>
                <td class="py-2 px-3">{{ acq|format_currency_amount:"unit_price" }}</td>
                <td class="py-2 px-3">{{ acq|format_currency_amount:"total_amount" }}</td>
                <td class="py-2 px-3">{{ acq|format_payment_status }}</td>
                <td class="py-2 px-3">{{ acq.notes|default:"-"|truncatewords:15 }}</td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="9" class="text-center py-3 px-3">
                    Hozircha xaridlar mavjud emas yoki tanlangan filtrga mos kelmadi.
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div> 